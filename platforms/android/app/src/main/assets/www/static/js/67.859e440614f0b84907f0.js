webpackJsonp([67],{NjzQ:function(e,t){},fvq9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),i=s.n(a),n=s("exGp"),r=s.n(n),o=s("M5WX"),c={AdressData:()=>({"深圳市":{"龙岗区":["平湖街道","大鹏街道","横岗街道","龙岗街道","龙城街道","南澳街道","坑梓街道","坪地街道","葵涌街道","坪山街道","布吉街道","南湾街道","坂田街道"],"福田区":["园岭街道","南园街道","福田街道","沙头街道","梅林街道","华富街道","香蜜湖街道","莲花街道","华强北街道","福保街道"],"罗湖区":["桂园街道","黄贝街道","东门街道","翠竹街道","东晓街道","南湖街道","笋岗街道","东湖街道","莲塘街道","清水湖街道"],"宝安区":["新安街道","西乡街道","航城街道","福永街道","福海街道","沙井街道","新桥街道","松岗街道","燕罗街道","石岩街道"]}})},l=s("7+uW"),u=s("Fd2+");l.default.use(u.o),l.default.use(u.J),l.default.use(u.x,u.t);var d={data:function(){return{showover:!1,Time:"",adrees:"",AdressArr:[],Car:"VE001",vehicle:"粤B123156",token:"",minDate:new Date("1970-07-01"),maxDate:new Date("2070-07-01"),currentDate:new Date,open:!1,adreesTo:"",value:""}},methods:{cancel:function(){this.open=!1},confirmTime:function(e){this.Time=o.a.filterTime(e),this.open=!1},closeBottomSheet:function(){this.open=!1},submitBefore:function(){var e=this;u.l.confirm({title:"提交",message:"确认提交？"}).then(function(){e.submit(),e.showover=!0}).catch(function(){})},submit:function(){var e=this;return r()(i.a.mark(function t(){var s,a,n,r,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s="/job/dispatch",a=e.adrees+e.adreesTo,n=e.Time,r=e.Car,""!=a&&""!=n&&""!=r){t.next=9;break}u.J.fail("请完善信息！"),e.showover=!1,t.next=14;break;case 9:return t.next=11,o.a.request(s,"POST",{address:a,time:n,vehicle:r},e.token);case 11:c=t.sent,console.log(c),"success"===c.data.message?(Object(u.J)("新增成功"),e.showover=!1,e.$router.push({path:"/Navigation",query:{id:1}})):(Object(u.J)("新增失败,请重试！"),e.showover=!1);case 14:case"end":return t.stop()}},t,e)}))()},selectStartTime:function(){this.open=!0},selectAdress:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;new PickerView({bindElem:selectAdress,data:this.AdressArr,title:"选择车辆",leftText:"取消",rightText:"确定",rightFn:function(t){console.log(t),e.adrees=t[0]+t[1]+t[2]}})}),selectCar:function(){var e=this;new PickerView({bindElem:selectCarid,data:this.$store.state.vehicleList,title:"选择车辆",leftText:"取消",rightText:"确定",rightFn:function(t){switch(console.log(t),e.Car=t[0],t[0]){case"VE001":case"VE002":default:e.vehicle="粤B123156"}}})}},mounted:function(){this.token=sessionStorage.getItem("token"),this.AdressArr=c.AdressData()}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("van-nav-bar",{staticClass:"backgroundNaviBar",attrs:{title:"调度信息填报","left-arrow":"","z-index":"999",border:!1},on:{"click-left":function(){e.$router.go(-1)}}}),e._v(" "),s("div",{staticClass:"Content border-radius"},[s("div",{staticClass:"containerMain",staticStyle:{top:"0"}},[s("div",{staticClass:"flexContainer"},[e._m(0),e._v(" "),s("div",{staticClass:"select",on:{click:function(t){return e.selectStartTime()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.Time,expression:"Time"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"选择调度时间"},domProps:{value:e.Time},on:{input:function(t){t.target.composing||(e.Time=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"flexContainer"},[e._m(1),e._v(" "),s("div",{staticClass:"select",attrs:{id:"selectAdress"},on:{click:function(t){return e.selectAdress()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adrees,expression:"adrees"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"选择调度地点"},domProps:{value:e.adrees},on:{input:function(t){t.target.composing||(e.adrees=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"flexContainer"},[e._m(2),e._v(" "),s("div",{staticClass:"select"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.adreesTo,expression:"adreesTo"}],staticClass:"input",attrs:{type:"text",placeholder:"填写详细地址"},domProps:{value:e.adreesTo},on:{input:function(t){t.target.composing||(e.adreesTo=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"containerMain",staticStyle:{top:"0"}},[s("div",{staticClass:"flexContainer"},[e._m(3),e._v(" "),s("div",{staticClass:"select",attrs:{id:"selectCarid"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.Car,expression:"Car"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"选择调度车辆"},domProps:{value:e.Car},on:{input:function(t){t.target.composing||(e.Car=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"flexContainer"},[e._m(4),e._v(" "),s("div",{staticClass:"select",attrs:{id:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vehicle,expression:"vehicle"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"选择调度车牌号"},domProps:{value:e.vehicle},on:{input:function(t){t.target.composing||(e.vehicle=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"submit backgroundNaviBar",style:"background:"+e.$store.state.color,on:{click:e.submitBefore}},[s("span",[e._v("提交")])])]),e._v(" "),s("mu-container",[s("mu-bottom-sheet",{attrs:{open:e.open},on:{"update:open":function(t){e.open=t}}},[s("mu-list",{on:{"item-click":e.closeBottomSheet}},[s("van-datetime-picker",{attrs:{type:"datetime","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.confirmTime,cancel:e.cancel},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)],1)],1),e._v(" "),s("van-overlay",{staticClass:"overlay",attrs:{show:e.showover},on:{click:function(t){e.showover=!1}}},[s("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleselect"},[t("span",[this._v("调度时间：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleselect"},[t("span",[this._v("调度地点：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleselect"},[t("span",[this._v("详细地址：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleselect"},[t("span",[this._v("调度车辆：")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titleselect"},[t("span",[this._v("车牌号：")])])}]};var m=s("VU/8")(d,v,!1,function(e){s("NjzQ")},"data-v-42ca29e4",null);t.default=m.exports}});
//# sourceMappingURL=67.859e440614f0b84907f0.js.map