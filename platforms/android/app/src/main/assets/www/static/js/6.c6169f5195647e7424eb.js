webpackJsonp([6],{"9NhH":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("fbqE"),i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"headerFixed backgroundNaviBar"},[e("van-nav-bar",{staticClass:"backgroundNaviBar",staticStyle:{color:"white"},attrs:{title:"实时数据","left-arrow":"","z-index":"0",border:!1},on:{"click-left":t.toBack}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],staticClass:"backgroundNaviBar",staticStyle:{color:"white"},style:t.showHeaderStyle,attrs:{id:"showHeader"}},[t._m(0),t._v(" "),e("div",{staticClass:"timeBottom"},[e("span",[t._v(t._s(t.time))])])])],1),t._v(" "),e("div",{staticClass:"conatainerContent",staticStyle:{"margin-top":"150px"},style:t.margin},[t.showData?e("div",[e("HomeDataTable")],1):t._e(),t._v(" "),t.showData?t._e():e("div",[e("v-home",{ref:"childComponents"})],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"flexTime flexSpace"},[s("div",{staticClass:"timeHeader"},[s("span",[this._v("监测时间")])])])}]};var n=function(t){e("eY1H")},o=e("VU/8")(a.a,i,!1,n,"data-v-b400d602",null);s.default=o.exports},APSI:function(t,s){},Ttag:function(t,s){},eY1H:function(t,s){},fbqE:function(t,s,e){"use strict";(function(t){var a=e("kCvh"),i=e("nGSQ"),n=e("M5WX");s.a={data:function(){return{title:"实时数据",showData:!1,tableStyle1:"",tableStyle2:"border:none;color:#ccc",time:n.a.filterTime(new Date),startx:"",starty:"",showHeader:!0,margin:"margin-top:150px",showHeaderStyle:"opacity: 1;filter:Alpha(opacity=100); transition: opacity 2s;"}},components:{HomeDataTable:a.a,"v-home":i.a},methods:{toBack:function(){this.$router.go(-1)},openBotttomSheet:function(){this.showData=!this.showData},totableStyle1:function(){this.tableStyle1="",this.tableStyle2="border:none;color:#ccc",this.showData=!1},totableStyle2:function(){this.tableStyle2="",this.tableStyle1="border:none;color:#ccc",this.showData=!0},timeSpot:function(t){this.time=t,console.log(t)},dataScoll:function(){window.addEventListener("touchstart",this.startFun,!0),window.addEventListener("touchend",this.endFunc,!0)},getAngle:function(t,s){return 180*Math.atan2(s,t)/Math.PI},startFun:function(t){this.startx=t.touches[0].pageX,this.starty=t.touches[0].pageY},endFunc:function(s){var e,a;switch(e=s.changedTouches[0].pageX,a=s.changedTouches[0].pageY,this.getDirection(this.startx,this.starty,e,a)){case 0:console.log("未滑动！");break;case 1:this.margin="margin-top:50px",t("#showHeader").slideUp(200);break;case 2:t("#showHeader").slideDown(200),this.margin="margin-top:150px";break;case 3:console.log("向左！");break;case 4:console.log("向右！")}},getDirection:function(t,s,e,a){var i=e-t,n=a-s,o=0;if(Math.abs(i)<2&&Math.abs(n)<2)return o;var r=this.getAngle(i,n);return r>=-135&&r<=-45?o=1:r>45&&r<135?o=2:r>=135&&r<=180||r>=-180&&r<-135?o=3:r>=-45&&r<=45&&(o=4),o}},mounted:function(){window.addEventListener("touchstart",this.startFun,!0),window.addEventListener("touchend",this.endFunc,!0)},destroyed:function(){window.removeEventListener("touchstart",this.startFun,!0),window.removeEventListener("touchend",this.endFunc,!0)}}}).call(s,e("7t+N"))},kCvh:function(t,s,e){"use strict";var a=e("Xxa5"),i=e.n(a),n=e("exGp"),o=e.n(n),r=e("M5WX"),c=e("7+uW"),l=e("Fd2+");c.default.use(l.B);var v={name:"HomeDataTable",data:function(){return{list:[],number:400,token:"",count:0,isLoading:!1}},methods:{initData:function(){var t=this;return o()(i.a.mark(function s(){var e,a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e="/station/monitor-system/datas/app",t.token=sessionStorage.getItem("token"),s.next=4,r.a.request(e,"GET",{},t.token);case 4:a=s.sent,t.list=t.spliceString(a.data.data),t.number=42*(t.list.length+1)+5,console.log("实时数据",a);case 8:case"end":return s.stop()}},s,t)}))()},spliceString:function(t){for(var s=0;s<t.length;s++){var e=t[s].station;t[s].station=e.slice(0,7)}return t},ToHistory:function(t,s,e){null!==sessionStorage.getItem("user")&&this.$router.push({path:"/ToHistory",query:{waterStation:t,codStatus:s,type:e}})},onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++},500)}},mounted:function(){this.initData()}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}},[e("p",[t._v("刷新次数: "+t._s(t.count))]),t._v(" "),e("div",{staticClass:"HomeFlexScope"},[e("div",{staticClass:"flex",staticStyle:{width:"24%"}},[e("div",{staticClass:"Flex"},[e("div",{staticClass:"flexRow widthContent"},[e("span",{staticClass:"spanWidth widthContent",staticStyle:{background:"#d4e2fe","font-weight":"600"}},[t._v("水站名称")])]),t._v(" "),t._l(t.list,function(s,a){return e("div",{key:a,staticClass:"flexRow",staticStyle:{background:"white"},on:{click:function(e){return t.ToHistory(s.station,s.cod,s.type)}}},[e("span",{staticClass:"spanWidth widthContent fontSizeCont",style:a%2==0?"background:#f6f6f6;":"background:#fff;font-size:14px"},[t._v(t._s(s.station))])])})],2)]),t._v(" "),e("div",{staticStyle:{width:"76%"}},[e("mu-grid-list",{staticClass:"gridlist-inline-demo",attrs:{cols:4,"cell-height":t.number}},[e("mu-grid-tile",{staticStyle:{"text-align":"center",padding:"1px"}},[e("div",{staticClass:"flex",staticStyle:{background:"#d4e2fe","font-weight":"600"}},[e("span",{staticClass:"spanWidth"},[t._v("pH")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("氨氮mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总氮mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总磷mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总铜mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总镍mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总铬mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("总氰化物mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("CODcr mg/L")]),t._v(" "),e("span",{staticClass:"spanWidth"},[t._v("设备状态")])]),t._v(" "),t._l(t.list,function(s,a){return e("div",{key:a},[e("div",{staticClass:"flex1",style:a%2==0?"background:#f6f6f6":"background:#fff"},[s.ph<t.$store.state.factor.ph?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(null===s.ph?"--":s.ph))]):t._e(),t._v(" "),s.ph>=t.$store.state.factor.ph&&s.ph<=t.$store.state.factor.ph1?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(s.ph))]):t._e(),t._v(" "),s.ph>t.$store.state.factor.ph1?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.ph))]):t._e(),t._v(" "),s.ammoniaNitrogen>t.$store.state.factor.ammoniaNitrogen?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.ammoniaNitrogen))]):t._e(),t._v(" "),s.ammoniaNitrogen<=t.$store.state.factor.ammoniaNitrogen?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.ammoniaNitrogen?"--":s.ammoniaNitrogen))]):t._e(),t._v(" "),s.nitrogen>t.$store.state.factor.nitrogen?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.nitrogen))]):t._e(),t._v(" "),s.nitrogen<=t.$store.state.factor.nitrogen?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.nitrogen?"--":s.nitrogen))]):t._e(),t._v(" "),s.phosphorus>t.$store.state.factor.phosphorus?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.phosphorus))]):t._e(),t._v(" "),s.phosphorus<=t.$store.state.factor.phosphorus?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.phosphorus?"--":s.phosphorus))]):t._e(),t._v(" "),s.cuprum>1?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.cuprum))]):t._e(),t._v(" "),s.cuprum<=t.$store.state.factor.cuprum?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.cuprum?"--":s.cuprum))]):t._e(),t._v(" "),s.nickel>t.$store.state.factor.nickel?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.nickel))]):t._e(),t._v(" "),s.nickel<=t.$store.state.factor.nickel?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.nickel?"--":s.nickel))]):t._e(),t._v(" "),s.chromium>t.$store.state.factor.chromium?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.chromium))]):t._e(),t._v(" "),s.chromium<=t.$store.state.factor.chromium?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.chromium?"--":s.chromium))]):t._e(),t._v(" "),s.prussiate>t.$store.state.factor.prussiate?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.prussiate))]):t._e(),t._v(" "),s.prussiate<=t.$store.state.factor.prussiate?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.prussiate?"--":s.prussiate))]):t._e(),t._v(" "),s.cod>t.$store.state.factor.cod?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v(t._s(s.cod))]):t._e(),t._v(" "),s.cod<=t.$store.state.factor.cod?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v(t._s(null===s.cod?"--":s.cod))]):t._e(),t._v(" "),null===s.systemStatus?e("span",{staticClass:"spanWidth fontSizeCont"},[t._v("--")]):t._e(),t._v(" "),0===s.systemStatus?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"red"}},[t._v("异常")]):t._e(),t._v(" "),1==s.systemStatus?e("span",{staticClass:"spanWidth fontSizeCont",staticStyle:{color:"green"}},[t._v("正常")]):t._e()])])})],2)],1)],1)])])],1)},staticRenderFns:[]};var u=e("VU/8")(v,d,!1,function(t){e("APSI")},"data-v-fbaf2fc4",null);s.a=u.exports},nGSQ:function(t,s,e){"use strict";var a=e("Xxa5"),i=e.n(a),n=e("exGp"),o=e.n(n),r=e("M5WX"),c=e("7+uW"),l=e("Fd2+");e("ZV4y");c.default.use(l.B).use(l.x).use(l.t);var v={data:function(){return{showover:!1,title:"实时数据",itemDataCont:[],token:"",count:0,isLoading:!1,user:"",red:"color:red",orange:"color:orange",huanbao:!1}},components:{},filters:{filterNews:function(t,s,e,a,i){return"无水"===e?"无水":1==s&&4==a?"无水":4===a?limitFlag[i]:5===a?"--":null!==t?"number"==typeof t?t.toFixed(3):t:"--"},filterWater:function(t,s,e){return"无水"!==e&&"超标"!==e&&"黄色"!==e&&"-"!==e?t>s?"color:red":"":"-"===e?"":"无水"===e?"color:red":t>s?"color:red":""},filterYellowtToStyle:function(t,s,e){return"无水"!==e&&"超标"!==e&&"黄色"!==e&&"-"!==e?t>s&&t<1.15*s?"color:orange":t>1.15*s?"color:red":"":"-"===e?"":"无水"===e?"color:red":t>s&&t<1.15*s?"color:orange":t>1.15*s?"color:red":""},filterPhStyle:function(t,s,e,a){return"无水"!==a&&"超标"!==a&&"黄色"!==a&&"-"!==a?null!==t&&(t<s||t>e)?"color:red":"":"-"===a?"":"无水"===a?"color:red":null!==t?t<s||t>e?"color:red":"":"--"},filter:function(t,s,e){return null!==s&&"-"!==s&&4!==e?null!==t?"number"==typeof t?t.toFixed(3):t:"--":null==s||4==e?"无水":"--"},filterOther:function(t,s,e){return null!==s&&"-"!==s&&4!==e?null!==t?"number"==typeof t?t.toFixed(3)+"mg/L":t:"--":null==s||4==e?"无水":"--"}},methods:{onRefresh:function(){var t=this;setTimeout(function(){t.$toast("刷新成功"),t.isLoading=!1,t.initData()},500)},openBotttomSheet:function(){},initData:function(){var t=this;return o()(i.a.mark(function s(){var e,a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e="/station/monitor-system/datas/app",t.token=sessionStorage.getItem("token"),s.next=4,r.a.request(e,"GET",{},t.token);case 4:a=s.sent,t.itemDataCont=a.data.data,console.log("实时数据",a),t.showover=!1,t.$parent.timeSpot(t.itemDataCont[0].datatime);case 9:case"end":return s.stop()}},s,t)}))()}},mounted:function(){this.user=sessionStorage.getItem("user"),"manager"===this.user?this.huanbao=!0:this.huanbao=!1,this.showover=!0,this.initData()}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}},t._l(t.itemDataCont,function(s,a){return e("div",{key:a,staticClass:"paddingHome"},[e("div",{staticClass:"backGround-back border-radius"},[e("div",{staticClass:"heaiderDiv"},[e("div",{staticClass:"contHeader"},[e("span",[t._v("站点名称")]),t._v(" "),e("span",[t._v(t._s("中途泵站"===s.station?s.station+"(移动监测站)":s.station))])])]),t._v(" "),e("div",{staticClass:"headerTitle fontWeight"},[e("div",{staticClass:"left"},[t._v("因子")]),t._v(" "),e("div",{staticClass:"center"},[t._v("监测值")]),t._v(" "),e("div",{staticClass:"right"},[t._v("标准值")])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("pH")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterPhStyle")(s.ph,t.$store.state.factor.ph,t.$store.state.factor.ph1,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.ph,t.huanbao,s.waterInfo,s.devicePh,"ph")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.ph)+"~"+t._s(t.$store.state.factor.ph1))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2!==s.hasCod,expression:"item.hasCod!==2"}],staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("CODcr")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterYellowtToStyle")(s.cod,t.$store.state.factor.cod,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.cod,t.huanbao,s.waterInfo,s.deviceCod,"cod")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.cod+" mg/L"))])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("氨氮")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterYellowtToStyle")(s.ammoniaNitrogen,t.$store.state.factor.ammoniaNitrogen,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.ammoniaNitrogen,t.huanbao,s.waterInfo,s.deviceAn,"ammoniaNitrogen")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.ammoniaNitrogen+" mg/L"))])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总氮")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterYellowtToStyle")(s.nitrogen,t.$store.state.factor.nitrogen,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.nitrogen,t.huanbao,s.waterInfo,s.deviceN,"nitrogen")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.nitrogen+" mg/L"))])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总磷")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterYellowtToStyle")(s.phosphorus,t.$store.state.factor.phosphorus,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.phosphorus,t.huanbao,s.waterInfo,s.deviceP,"phosphorus")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.phosphorus+" mg/L"))])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总铜")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterWater")(s.cuprum,t.$store.state.factor.cuprum,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.cuprum,t.huanbao,s.waterInfo,s.deviceCu,"cuprum")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.cuprum+" mg/L"))])]),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总镍")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterWater")(s.nickel,t.$store.state.factor.nickel,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.nickel,t.huanbao,s.waterInfo,s.deviceNi,"nickel")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.nickel+" mg/L"))])]),t._v(" "),1!==s.hasCod?e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总铬")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterWater")(s.chromium,t.$store.state.factor.chromium,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.chromium,t.huanbao,s.waterInfo,s.deviceCr,"chromium")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.chromium+" mg/L"))])]):t._e(),t._v(" "),e("div",{staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("总氰化物")])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{style:t._f("filterYellowtToStyle")(s.prussiate,t.$store.state.factor.prussiate,s.waterInfo)},[t._v(t._s(t._f("filterNews")(s.prussiate,t.huanbao,s.waterInfo,s.devicePr,"prussiate")))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.$store.state.factor.prussiate+" mg/L"))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"manager"!==t.user,expression:"user!=='manager'"}],staticClass:"headerTitle"},[e("div",{staticClass:"left"},[e("span",[t._v("设备状态")])]),t._v(" "),e("div",{staticClass:"center"}),t._v(" "),e("div",{staticClass:"right"},[1===s.systemStatus?e("span",{},[t._v("正常")]):t._e(),t._v(" "),0===s.systemStatus?e("span",{staticStyle:{color:"red"}},[t._v("异常")]):t._e(),t._v(" "),2===s.systemStatus?e("span",{staticStyle:{color:"red"}},[t._v("维护")]):t._e(),t._v(" "),3===s.systemStatus?e("span",{staticStyle:{color:"red"}},[t._v("离线")]):t._e(),t._v(" "),4===s.systemStatus?e("span",{staticStyle:{color:"red"}},[t._v("无水")]):t._e(),t._v(" "),null===s.systemStatus?e("span",{},[t._v("--")]):t._e()])])])])}),0),t._v(" "),e("van-overlay",{staticClass:"overlay",attrs:{show:t.showover},on:{click:function(s){t.showover=!1}}},[e("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)],1)},staticRenderFns:[]};var u=e("VU/8")(v,d,!1,function(t){e("Ttag")},"data-v-bcbd3386",null);s.a=u.exports}});
//# sourceMappingURL=6.c6169f5195647e7424eb.js.map