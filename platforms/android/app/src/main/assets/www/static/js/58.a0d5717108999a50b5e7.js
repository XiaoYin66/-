webpackJsonp([58],{J51e:function(t,e){},b3px:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),o=a.n(n),r=a("7+uW"),l=a("Fd2+"),c=a("M5WX");r.default.use(l.k),r.default.use(l.K);var u={data:function(){return{minDate:new Date(2019,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,title:"",formdata:new FormData,token:"",submitTime:"",person:"",fileList:[],reason:"",show:!1}},created:function(){switch(this.token=sessionStorage.getItem("token"),this.$route.query.status){case 0:this.title="停机操作";break;default:this.title="恢复操作"}},methods:{confirmTime:function(t){this.submitTime=c.a.filterTime(t),this.show=!1},backbutton:function(){this.show=!1},selectTime:function(){this.show=!0},beforeRead:function(t){this.formdata.append("files",t.file)},submit:function(){var t=this;return o()(s.a.mark(function e(){var a,i,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.$route.query.title,i="/job/operate/device",t.formdata.append("gmtOperate",t.submitTime),t.formdata.append("person",t.person),t.formdata.append("pid","停机操作"===t.title?null:Number(t.$route.query.id)),t.formdata.append("reason",t.reason),t.formdata.append("station",a),t.formdata.append("type","停机操作"===t.title?0:1),e.next=10,c.a.request(i,"POST",t.formdata,t.token);case 10:n=e.sent,console.log(n);case 12:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-appbar",{staticClass:"header backgroundNaviBar",staticStyle:{width:"100%"}},[a("a",{on:{click:function(){t.$router.go(-1)}}},[a("mu-button",{staticClass:"icon",attrs:{slot:"left",icon:"",size:"20"},slot:"left"},[a("mu-icon",{attrs:{value:"keyboard_arrow_left"}})],1)],1),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v(t._s(t.title))])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"paddingBox"},[a("div",{staticClass:"flexbox backgroundColor heightBox"},[t._m(0),t._v(" "),a("div",{staticStyle:{flex:"5"},on:{click:t.selectTime}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submitTime,expression:"submitTime"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"选择提交时间"},domProps:{value:t.submitTime},on:{input:function(e){e.target.composing||(t.submitTime=e.target.value)}}})]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"backgroundColor flexbox heightBox"},[t._m(2),t._v(" "),a("div",{staticStyle:{flex:"5"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.person,expression:"person"}],staticClass:"input",attrs:{type:"text",placeholder:"输入提交人姓名"},domProps:{value:t.person},on:{input:function(e){e.target.composing||(t.person=e.target.value)}}})]),t._v(" "),t._m(3)]),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"backgroundColor",staticStyle:{height:"100px",padding:"10px","border-bottom":"1px rgb(238, 238, 238) solid"}},[a("div",{staticStyle:{flex:"5"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],attrs:{name:"",id:"textarea",placeholder:"输入简短的描述"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})])]),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"backgroundColor flexbox",staticStyle:{padding:"10px"}},[a("div",[a("van-uploader",{attrs:{multiple:"","after-read":t.beforeRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)])])]),t._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"datetime","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirmTime,cancel:t.backbutton},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),t._v(" "),a("div",{staticClass:"bottomSubmit"},[a("div",{staticClass:"btnSubmit backgroundNaviBar",on:{click:function(e){return t.submit()}}},[a("span",[t._v("提交")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"2"}},[e("span",[this._v("时间：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"1"}},[e("img",{attrs:{src:"",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"2"}},[e("span",[this._v("操作人：")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"1"}},[e("img",{attrs:{src:"",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"backgroundColor flexbox heightBox"},[e("div",[e("span",[this._v("原因：")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"backgroundColor flexbox heightBox"},[e("div",[e("span",[this._v("附件（图片）：")])])])}]};var m=a("VU/8")(u,d,!1,function(t){a("J51e")},"data-v-65895c1c",null);e.default=m.exports}});
//# sourceMappingURL=58.a0d5717108999a50b5e7.js.map