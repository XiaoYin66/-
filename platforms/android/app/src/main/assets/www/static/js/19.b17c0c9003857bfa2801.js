webpackJsonp([19],{MaIw:function(t,e,a){"use strict";var s=a("Fd2+");e.a={updataApp(){appAvailability.check("cn.goapk.market",function(){startApp.set({action:"ACTION_VIEW",category:"CATEGORY_DEFAULT",type:"text/css",package:"cn.goapk.market",uri:"market://details?id=io.cordova.testNews",flags:["FLAG_ACTIVITY_CLEAR_TOP","FLAG_ACTIVITY_CLEAR_TASK"],intentstart:"startActivity"},{EXTRA_STREAM:"extraValue1",extraKey2:"extraValue2"}).start(function(){console.log("open  success"),Object(s.J)("成功")},function(t){console.log("open  failed"),Object(s.J)("下载失败")})},function(){Object(s.J)("请安装安志市场应用！")})}}},S0VQ:function(t,e){},YCqt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),i=a("exGp"),o=a.n(i),r=[{name:"数据查看管理",status:!0},{name:"预警方式管理",status:!0},{name:"清理缓存",status:!1},{name:"联系客服",status:!0},{name:"关于我们",status:!0},{name:"版本信息",status:!0},{name:"用户反馈",status:!1},{name:"标准值设定",status:!1},{name:"反馈列表",status:!1},{name:"转运目的地录入",status:!1}],c={initMenu(t){var e=r;if("admin"===t)for(let t=0;t<e.length;t++)"标准值设定"===e[t].name&&(e[t].status=!0),"转运目的地录入"===e[t].name&&(e[t].status=!0);else if("station"===t)for(let t=0;t<e.length;t++)"标准值设定"===e[t].name&&(e[t].status=!1),"转运目的地录入"===e[t].name&&(e[t].status=!0);else for(let t=0;t<e.length;t++)"标准值设定"===e[t].name&&(e[t].status=!1),"转运目的地录入"===e[t].name&&(e[t].status=!1);return e}},l=a("kiaj"),u=a("MaIw"),p=a("M5WX"),d=a("7+uW"),v=a("Fd2+");sessionStorage.getItem("token");d.default.use(v.a),d.default.use(v.J);var h={data:function(){return{differrent:!1,itemList:[],msg:"hello 数据详情",open:"send",openSimple:!1,user:"",picTure:[],version:localStorage.getItem("version"),showVersionUpdate:!1,versionData:[],appName:"",actions:[{name:"市场更新"},{name:"本地更新"}],showApp:!1}},methods:{onCancel:function(){this.showApp=!1},onSelect:function(t){if("市场更新"==t.name)u.a.updataApp();else{var e=this.appName;window.location.href="http://47.112.16.168:"+e}},confirmUpdate:function(){this.differrent?this.showApp=!0:this.showApp=!1},cameraTakebtn:function(){l.a.cameraTake()},Exit:function(){localStorage.clear(),sessionStorage.clear(),navigator.app.exitApp()},navigationTo:function(t){switch(t){case"关于我们":this.$router.push("/aboutMe");break;case"联系客服":this.callPhone();break;case"清理缓存":this.clearCache();break;case"版本信息":this.openSimpleDialog();break;case"用户审核":this.Toexamine();break;case"用户反馈":this.$router.push("/Feedback");break;case"标准值设定":this.$router.push("StandardSetting");break;case"退出登录":this.changeUser();break;case"转运目的地录入":this.$router.push("/TransshipmentPurpose");break;default:this.$toast.warning("测试升级中")}},callPhone:function(){window.location.href="tel://0755-22672445"},clearCache:function(){localStorage.clear();var t=this.$loading();setTimeout(function(){t.close()},2e3)},Toexamine:function(){this.$router.push("/Toexamine")},openSimpleDialog:function(){var t=this;return o()(n.a.mark(function e(){var a,s,i,o,r,c,l,u,d;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,null!==localStorage.getItem("version")&&void 0!==localStorage.getItem("version")&&""!==localStorage.getItem("version")||cordova.getAppVersion.getVersionNumber().then(function(t){localStorage.setItem("version",t)}),!1!==t.$store.state.upDateStatus){e.next=12;break}return s=sessionStorage.getItem("token"),i="/table/appVersion",e.next=7,p.a.request(i,"get",{},s);case 7:o=e.sent,r=localStorage.getItem("version"),t.version=r,console.log(o),null!==o.data.data&&void 0!==o.data.data&&""!==o.data.data&&o.data.data.length>0?(c=o.data.data.version.split("."),l=r.split("."),u=l[0]+l[1]+l[2],d=c[0]+c[1]+c[2],console.log(d),Number(d)>Number(u)&&(a.$store.state.appVersion=o.data.data.version,a.differrent=!0,a.showUpdataApp=!0,a.showVersionUpdate=!0,a.$store.state.uadataContent=o.data.data,a.versionData=o.data.data,a.appName=o.data.data.path)):a.differrent=!1;case 12:t.openSimple=!0,t.versionData=t.$store.state.uadataContent,"8886/group1/M00/00/01/rBLi414YOk-ACLArASIf1vSN0Rk764.apk",0!==t.$store.state.appVersion?t.showVersionUpdate=!0:t.showVersionUpdate=!1;case 16:case"end":return e.stop()}},e,t)}))()},closeSimpleDialog:function(){this.openSimple=!1},changeUser:function(){var t=this;v.l.confirm({title:"注销",message:"是否退出当前用户？"}).then(function(){t.$store.state.mapStatus=!1,t.$router.replace("/"),localStorage.clear(),sessionStorage.clear(),t.$store.state.tabBarPage=0}).catch(function(){})},forRole:function(t){var e="";switch(t){case"operator":e="运维人员";break;case"station":e="水站管理员";break;case"manager":e="环保管理员";break;default:e="超级管理员"}return e}},created:function(){},mounted:function(){var t=sessionStorage.getItem("user"),e=c.initMenu(t);this.itemList=e,this.user=this.forRole(t)}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{staticClass:"backgroundNaviBar",attrs:{title:"设置","z-index":"999",border:!1}}),t._v(" "),t._m(0),t._v(" "),a("div",{staticStyle:{padding:"10px 0"}},[a("div",{staticClass:"backStyle"},t._l(t.itemList,function(e,s){return a("div",{key:s,on:{click:function(a){return t.navigationTo(e.name)}}},[e.status?a("div",{staticClass:"flexBox BoxStyle"},[a("div",[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"imageSize"},[a("mu-icon",{attrs:{color:"grey",size:"24",value:"keyboard_arrow_right"}})],1)]):t._e()])}),0),t._v(" "),a("div",{staticClass:"bottomSubmit"},[a("div",{staticClass:"btnSubmit backgroundNaviBar",on:{click:function(e){return t.changeUser()}}},[a("span",[t._v("退出用户")])])]),t._v(" "),a("van-dialog",{attrs:{"show-cancel-button":t.showVersionUpdate},on:{confirm:t.confirmUpdate},model:{value:t.openSimple,callback:function(e){t.openSimple=e},expression:"openSimple"}},[a("div",{staticClass:"updataHeader"},[a("span",[t._v("版本更新")])]),t._v(" "),a("div",{staticClass:"boxUpdata"},[t.showVersionUpdate?a("div",[a("div",{staticClass:"heightStyle"},[a("span",[t._v("更新的版本：")]),t._v(" "),a("span",[t._v(t._s(t.versionData.version))])]),t._v(" "),a("span",{staticClass:"heightStyle",staticStyle:{height:"30px"}},[a("span",[t._v("版本解决了以下的问题：")])]),t._v(" "),t._l(t.versionData.description,function(e,s){return a("div",{key:s},[a("div",{staticClass:"heightStyle"},[a("span",[t._v(t._s(s+1)+"、")]),t._v(" "),a("span",[t._v(t._s(e))])])])})],2):t._e(),t._v(" "),t.showVersionUpdate?t._e():a("div",[a("div",{staticClass:"heightStyle"},[a("span",[t._v("当前为最新版本：")]),t._v(" "),a("span",{staticStyle:{color:"rgb(50, 142, 251)"}},[t._v(t._s(t.version))])])])])])],1),t._v(" "),a("van-action-sheet",{staticStyle:{"z-index":"999"},attrs:{actions:t.actions,"cancel-text":"取消",description:"选择市场安装，请确保已经安装安智市场"},on:{cancel:t.onCancel,select:t.onSelect},model:{value:t.showApp,callback:function(e){t.showApp=e},expression:"showApp"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"headerSetting backgroundNaviBar"},[e("div",{staticClass:"borderCicle"},[e("img",{attrs:{src:"static/img/headerImage.png",alt:""}})]),this._v(" "),e("div",[e("span",[this._v("嗨！超级管理员")])])])}]};var f=a("VU/8")(h,m,!1,function(t){a("S0VQ")},"data-v-768af8f1",null);e.default=f.exports}});
//# sourceMappingURL=19.b17c0c9003857bfa2801.js.map