webpackJsonp([45],{G4Rm:function(t,a){},oySB:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Xxa5"),s=e.n(i),n=e("exGp"),o=e.n(n),l=e("M5WX"),d=e("7+uW"),r=e("Fd2+");d.default.use(r.J);var p={name:"addData",data:function(){return{optionsenterprise:[],lnglat:"1",value6:"",dialogImageUrl:"",dialogVisible:!1,token:"",formDate:{},dataList:{prussiate:0,phosphorus:0,ph:0,nitrogen:0,ammoniaNitrogen:0,chromium:0,nickel:0,cod:0,cuprum:0},latitude:"",longitude:"",pollutantName:"",routingName:"",loading:!1}},methods:{selectDataPicoptions:function(){var t=this;new PickerView({bindElem:classPicoptions,data:this.$store.state.enterprise,title:"选择类型",leftText:"取消",rightText:"确定",rightFn:function(a){console.log(a[0]),t.pollutantName=a[0]}})},fullscreen:function(){this.loading=this.$loading()},backTo:function(){this.$router.push({path:"addListDetails",query:{id:sessionStorage.getItem("deviceId")}})},getLngLat:function(){this.$router.push({path:"/selectMap"})},handleRemove:function(t,a){},uploadFile:function(t){this.formDate.append("files",t.file)},limitStatus:function(t){Object(r.J)("只能上传4张图片")},submit:function(){var t=this;return o()(s.a.mark(function a(){var e,i,n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.fullscreen(),(e=sessionStorage.getItem("lnglat"))&&(t.longitude=e.split(",")[0],t.latitude=e.split(",")[1]),t.routingName=sessionStorage.getItem("routingName"),t.formDate=new FormData,t.$refs.upload.submit(),t.formDate.append("lastMonitor",l.a.filterTime(t.value6)),t.formDate.append("prussiate",t.dataList.prussiate),t.formDate.append("phosphorus",t.dataList.phosphorus),t.formDate.append("ph",t.dataList.ph),t.formDate.append("nitrogen",t.dataList.nitrogen),t.formDate.append("ammoniaNitrogen",t.dataList.ammoniaNitrogen),t.formDate.append("chromium",t.dataList.chromium),t.formDate.append("nickel",t.dataList.nickel),t.formDate.append("cod",t.dataList.cod),t.formDate.append("cuprum",t.dataList.cuprum),t.formDate.append("latitude",t.latitude),t.formDate.append("longitude",t.longitude),t.formDate.append("routingName",t.routingName),t.formDate.append("pollutantName",t.pollutantName),i="/mobile/routing/point",a.next=23,l.a.request(i,"POST",t.formDate,t.token);case 23:n=a.sent,console.log(n),t.loading.close(),200===n.status?(Object(r.J)(n.data.info),t.$router.push({path:"/addListDetails",query:{id:sessionStorage.getItem("deviceId")}})):(t.loading.close(),Object(r.J)("上传数据失败，请确认上传数据是否完整"));case 27:case"end":return a.stop()}},a,t)}))()}},mounted:function(){this.lnglat=this.$route.query.id,this.optionsenterprise=this.$store.state.enterprise,this.token=sessionStorage.getItem("token")}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("mu-appbar",{staticClass:"header",staticStyle:{width:"100%"},attrs:{color:"#4ed995"}},[e("a",{on:{click:function(a){return t.backTo()}}},[e("mu-button",{staticClass:"icon",attrs:{slot:"left",icon:"",size:"20"},slot:"left"},[e("mu-icon",{attrs:{value:"keyboard_arrow_left"}})],1)],1),t._v(" "),e("span",[t._v("数据填写")])]),t._v(" "),e("div",{staticStyle:{"margin-top":"70px"}},[t._m(0),t._v(" "),e("div",{staticClass:"contentAdd"},[e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"100px"}},[t._v("经纬度")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.lnglat,expression:"lnglat"}],attrs:{type:"text",id:"input",placeholder:"请获取相关经纬度"},domProps:{value:t.lnglat},on:{focus:function(a){return t.getLngLat()},input:function(a){a.target.composing||(t.lnglat=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"100px"}},[t._v("监测时间")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value6,expression:"value6"}],staticClass:"input",attrs:{type:"text",placeholder:"请选择录入时间",disabled:""},domProps:{value:t.value6},on:{input:function(a){a.target.composing||(t.value6=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"100px"}},[t._v("点位名称")]),t._v(" "),e("div",{staticClass:"dateTime",attrs:{id:"classPicoptions"},on:{click:t.selectDataPicoptions}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pollutantName,expression:"pollutantName"}],staticClass:"input",attrs:{type:"text",name:"",placeholder:"请选择点位名称",disabled:""},domProps:{value:t.pollutantName},on:{input:function(a){a.target.composing||(t.pollutantName=a.target.value)}}})])])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticStyle:{padding:"0 5px"}},[e("div",{staticStyle:{"border-radius":"10px"}},[e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"80px"}},[t._v("pH")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.ph,expression:"dataList.ph"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.ph},on:{input:function(a){a.target.composing||t.$set(t.dataList,"ph",a.target.value)}}})]),t._v(" "),e("div",{staticStyle:{width:"80px"}},[t._v("COD")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.cod,expression:"dataList.cod"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.cod},on:{input:function(a){a.target.composing||t.$set(t.dataList,"cod",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"80px"}},[t._v("总铜")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.cuprum,expression:"dataList.cuprum"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.cuprum},on:{input:function(a){a.target.composing||t.$set(t.dataList,"cuprum",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])]),t._v(" "),e("div",{staticStyle:{width:"80px"}},[t._v("氨氮")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.ammoniaNitrogen,expression:"dataList.ammoniaNitrogen"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.ammoniaNitrogen},on:{input:function(a){a.target.composing||t.$set(t.dataList,"ammoniaNitrogen",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"80px"}},[t._v("总镍")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.nickel,expression:"dataList.nickel"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.nickel},on:{input:function(a){a.target.composing||t.$set(t.dataList,"nickel",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])]),t._v(" "),e("div",{staticStyle:{width:"80px"}},[t._v("总磷")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.phosphorus,expression:"dataList.phosphorus"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.phosphorus},on:{input:function(a){a.target.composing||t.$set(t.dataList,"phosphorus",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"80px"}},[t._v("总铬")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.chromium,expression:"dataList.chromium"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.chromium},on:{input:function(a){a.target.composing||t.$set(t.dataList,"chromium",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])]),t._v(" "),e("div",{staticStyle:{width:"80px"}},[t._v("总氮")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.nitrogen,expression:"dataList.nitrogen"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.nitrogen},on:{input:function(a){a.target.composing||t.$set(t.dataList,"nitrogen",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])])]),t._v(" "),e("div",{staticClass:"flexdis"},[e("div",{staticStyle:{width:"120px"}},[t._v("总氰化物")]),t._v(" "),e("div",{staticClass:"dateTime"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataList.prussiate,expression:"dataList.prussiate"}],attrs:{type:"text",id:"inputData",placeholder:""},domProps:{value:t.dataList.prussiate},on:{input:function(a){a.target.composing||t.$set(t.dataList,"prussiate",a.target.value)}}}),t._v(" "),e("span",{staticClass:"gray"},[t._v("mg/L")])])])]),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"HeaderTitleContent"},[e("el-upload",{ref:"upload",attrs:{action:"http://47.112.16.168:8803/explore",multiple:"",name:"files","list-type":"picture-card","on-change":t.handleRemove,"http-request":t.uploadFile,"auto-upload":!1,limit:4,"on-exceed":t.limitStatus}},[e("i",{staticClass:"el-icon-plus"})]),t._v(" "),e("el-dialog",{attrs:{visible:t.dialogVisible,size:"tiny"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),e("div",{staticClass:"bottomBtn"},[e("div",{staticClass:"submitImage",on:{click:function(a){return t.submit()}}},[e("span",[t._v("提交")])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"naviTitle"},[a("span",[this._v("点位名称、位置坐标")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"naviTitle"},[a("span",[this._v("基本数据信息")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"naviTitle"},[a("span",[this._v("现场照片")])])}]};var c=e("VU/8")(p,u,!1,function(t){e("G4Rm")},"data-v-9af0fe54",null);a.default=c.exports}});
//# sourceMappingURL=45.46dc3895bd1b9472b423.js.map