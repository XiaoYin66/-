webpackJsonp([49],{R7TW:function(t,e){},ZMTC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),o=a("exGp"),s=a.n(o),r={initEcharts(t,e,i,n){var o=a("XLwt");o.init(document.getElementById("mainHis")).setOption({color:new o.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ffa902 "},{offset:.4,color:"#ffb74d"},{offset:1,color:"#fff3e0"}]),grid:{left:40,top:10},title:{text:"",textStyle:{fontWeight:600,fontSize:12}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[i],selectedMode:!0,show:!0,top:0},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"}}},dataZoom:[{type:"slider",show:!0,realtime:!0,start:40,end:50}],calculable:!0,xAxis:[{type:"category",boundaryGap:!1,axisTick:{alignWithLabel:!0},axisTick:{show:!1},axisLine:{lineStyle:{type:"dotted",color:"#c6c6c6",width:"2"}},data:e}],yAxis:[{name:"",nameLocation:"end",nameTextStyle:{color:"#ccc",fontStyle:"oblique"},type:"value",splitLine:{show:!1},splitArea:{show:!0},axisLine:{lineStyle:{type:"solid",color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}}],series:[{name:i,type:"line",smooth:!0,itemStyle:{normal:{areaStyle:{type:"default"}}},data:t,markLine:{silent:!0,lineStyle:{normal:{color:"red"}},data:[{yAxis:n}],label:{normal:{formatter:n}}}}]})}},c=a("M5WX"),l={data:function(){return{token:"",list:[],arr:[],arrTime:[],name:"pH",num:1,startTime:"",lastTime:"",stationContent:["pH","氨氮","总氮","总磷","总铜","总镍","总氰化物","总铬"],open:!1,station:"pH",waterstation:""}},methods:{selectDataPic:function(){var t=this;new PickerView({bindElem:selectStation,data:this.stationContent,title:"选择因子",leftText:"取消",rightText:"确定",rightFn:function(e){console.log(e[0]),t.forSelect(t.list,e[0])}})},closeBottomSheet:function(){this.open=!1},openBotttomSheet:function(){this.open=!0},close:function(t){console.log(t),this.open=!1,this.forSelect(this.list,t)},confirmQuery:function(){this.open=!1},toBack:function(){this.$router.go(-1)},ToQuery:function(){this.open=!0},initDataTable:function(){var t=this;return s()(n.a.mark(function e(){var a,i,o,s,r,l,u,m;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="/station/water-data/list",i=t.waterstation,o=t.startTime,s=t.lastTime,r="no",l=t.num,u=5e7,e.next=8,c.a.request(a,"POST",{starttime:o,lasttime:s,waterstation:i,isExcel:r,pageNum:l,pageSize:u},t.token);case 8:return m=e.sent,console.log("list23",m),t.list=m.data.data,e.next=13,t.forSelect(t.list,t.name);case 13:case"end":return e.stop()}},e,t)}))()},forSelect:function(t,e){var a=[],i=[],n=0;for(var o=0;o<t.length;o++){switch(e){case"pH":var s=t[o].ph;n=9;break;case"氨氮":s=t[o].ammoniaNitrogen,n=35;break;case"总氮":s=t[o].nitrogen,n=45;break;case"总磷":s=t[o].phosphorus,n=4;break;case"总铜":s=t[o].cuprum,n=2;break;case"总镍":s=t[o].nickel,n=1;break;case"总铬":s=t[o].chromium,n=1.5;break;case"总氰化物":s=t[o].prussiate,n=1}a.push(s);var c=t[o].gmtMonitor;c=c.slice(5,16),i.push(c)}this.arr=a,this.arrTime=i,r.initEcharts(this.arr,this.arrTime,e,n)}},mounted:function(){var t=this;return s()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.name=t.$route.query.id,t.token=sessionStorage.getItem("token"),t.startTime=t.$route.query.startTime,t.lastTime=t.$route.query.lastTime,t.waterstation=t.$route.query.waterstation,e.next=7,t.initDataTable(t.waterstation);case 7:case"end":return e.stop()}},e,t)}))()},components:{}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-appbar",{staticClass:"header",staticStyle:{width:"100%"},attrs:{color:"#4ed995"}},[a("mu-button",{staticClass:"icon",attrs:{slot:"left",icon:"",size:"20"},on:{click:function(e){return t.toBack()}},slot:"left"},[a("mu-icon",{attrs:{value:"keyboard_arrow_left"}})],1),t._v(" "),a("span",[t._v("数据详情")]),t._v(" "),a("mu-button",{staticClass:"icon",attrs:{slot:"right",icon:"",size:"20",id:"selectStation"},on:{click:t.selectDataPic},slot:"right"},[a("img",{attrs:{src:"static/img/queryNews.png",alt:"",srcset:""}})])],1),t._v(" "),t._m(0),t._v(" "),a("mu-container",[a("mu-bottom-sheet",{attrs:{open:t.open},on:{"update:open":function(e){t.open=e}}},[a("mu-list",{on:{"item-click":t.closeBottomSheet}},[a("mu-sub-header",[a("div",{staticClass:"queryBtn"},[t._v("筛选")])]),t._v(" "),a("mu-list-item",[a("div",{staticClass:"titleselect"},[a("span",[t._v("因子名称：")])]),t._v(" "),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.station,expression:"station"}],attrs:{name:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.station=e.target.multiple?a:a[0]},function(e){return t.close(t.station)}]}},t._l(t.stationContent,function(e,i){return a("option",{key:i,domProps:{value:e}},[t._v(t._s(e))])}),0)])]),t._v(" "),a("mu-list-item",[a("div",{staticClass:"btnBottom"},[a("div",{staticClass:"left",on:{click:function(e){return t.confirmQuery()}}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"right",on:{click:function(e){return t.confirmQuery()}}},[t._v("确定")])])])],1)],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Datadetailscontent"},[e("div",{staticClass:"title"},[e("span",[this._v("数据图表")])]),this._v(" "),e("div",{attrs:{id:"mainHis"}})])}]};var m=a("VU/8")(l,u,!1,function(t){a("R7TW")},"data-v-7890090d",null);e.default=m.exports}});
//# sourceMappingURL=49.36d849d2c2b62fd19660.js.map