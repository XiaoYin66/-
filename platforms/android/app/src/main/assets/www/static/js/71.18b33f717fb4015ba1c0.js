webpackJsonp([71],{oqXN:function(t,e){},uPDV:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("Xxa5"),a=s.n(o),l=s("exGp"),n=s.n(l),i=(sessionStorage.getItem("token"),{data:function(){return{labelPosition:"top",form:{input:"",select:"",date:"",radio:"",checkbox:[],switch:!1,slider:30,textarea:""},color1:"",color2:"",color3:"",color4:"",color5:"",open:!1,panel:"",show2:!1,loading:"",show1:!0,show:!1,area:null,street:null,restaurantcat:null,statusValue:null,starttime:null,lasttime:null,timer:!1,value5:null,value6:null,menu2:[],Menu:[],user:"",menuArr:[{HomeStatus:!1,DayStatus:!1,RunControlStatus:!1,systemStatus:!1,newAdd:!1}],list8:[],count:5,currentPage:1,ID:0,people:"",openSimple:!1,openSimple1:!1,openFullscreen:!1,index:0,list:[],list5:[],list2:[],list3:[],list4:[],min:!0,number:0,name:"",id:0,token:sessionStorage.getItem("token"),msg:"hello 数据详情1111",shift:"2",list1:[{name:"总览",icon:"language"}],custom:{value1:null,value2:null,value3:null,value4:null,value11:null},languages:["VM000001","VM000002"],languages1:["福田区"],languages2:["梅林街道","园岭街道"],languages3:["湘菜","粤菜","川菜"]}},methods:{closeBottomSheet:function(){this.open=!1},openBotttomSheet:function(){this.open=!0},fullscreen:function(){this.loading=this.$loading()},controlStatus:function(){this.color4="background: rgb(82, 145, 228);color:white",this.color5="",this.statusValue=1,console.log(this.statusValue)},controlStatus1:function(){this.color4="",this.color5="background: rgb(82, 145, 228);color:white",this.statusValue=0},loop:function(){this.color1="",this.color2="",this.color3="",this.color4="",this.color5="",this.open=!1,this.starttime=null,this.lasttime=null,this.value5=null,this.value6=null,this.custom.value1=null,this.custom.value11=null,this.custom.value2=null,this.custom.value3=null,this.custom.value4=null,this.area=null,this.street=null,this.statusValue=null,this.restaurantcat=null,this.axios(),this.timer=!1},toggle:function(t){this.panel=t===this.panel?"":t},screen1:function(){this.color1="background: rgb(82, 145, 228);color:white",this.color2="",this.color3="",this.timer=!0;var t=new Date,e=this.filter(t);console.log("resDate",e),this.value6=e;var s=new Date;s.setTime(s.getTime()-864e5),console.log("start",s);var o=this.filter(s);this.value5=o,console.log("resdate",o)},screen2:function(){this.color1="",this.color2="background: rgb(82, 145, 228);color:white",this.color3="",this.timer=!0;var t=new Date,e=this.filter(t);this.value6=e,console.log("resDate",e);var s=new Date;s.setTime(s.getTime()-2592e5),console.log("start",s);var o=this.filter(s);this.value5=o,console.log("resdate",o)},screen3:function(){this.color1="",this.color2="",this.color3="background: rgb(82, 145, 228);color:white",this.timer=!0;var t=new Date,e=this.filter(t);this.value6=e,console.log("a",e);var s=new Date;s.setTime(s.getTime()-6048e5),console.log("start",s);var o=this.filter(s);console.log("resdate",o),this.value5=o},query:function(t,e){if(this.open=!1,this.timer){var s=this.filter(e);console.log("resDate1",s),this.status=this.custom.value11,this.area=this.custom.value2,this.street=this.custom.value3,this.restaurantcat=this.custom.value4,this.starttime=s,this.lasttime=t,this.axios(),this.timer=!1}else if(void 0==this.value5||void 0==this.value6)this.starttime=null,this.lasttime=null,this.area=this.custom.value2,this.status=this.custom.value11,this.street=this.custom.value3,this.restaurantcat=this.custom.value4,this.axios();else{console.log("value5",this.value5);var o=this.filter(this.value5);console.log("value5",o);new Date(this.value6);var a=this.filter(this.value6);console.log(a),this.area=this.custom.value2,this.status=this.custom.value11,this.street=this.custom.value3,this.restaurantcat=this.custom.value4,this.starttime=o,this.lasttime=a,console.log("this.value6",this.street),this.axios()}},filter:function(t){var e=new Date(t);return e.getFullYear()+"-"+this.p(e.getMonth()+1)+"-"+this.p(e.getDate())},p:function(t){return t<10?"0"+t:t},look:function(t){this.$router.push({path:"/controlDetails",query:{id:t}})},menu:function(){var t;t=sessionStorage.getItem("user").split(","),console.log("m",t),this.menu2.push(t),console.log("user111",this.menu2);for(var e=0;e<this.menu2.length;e++)this.Menu=this.menu2[e],console.log("32",this.Menu);-1!=this.Menu.indexOf("新增")&&("超级管理员"==this.user||"运维人员"==this.user||"管理员"==this.user)||"企业人员"==this.user?this.menuArr.newAdd=!0:this.menuArr.newAdd=!1,this.menuArr.HomeStatus=sessionStorage.getItem("HomeStatus"),"false"==this.menuArr.HomeStatus?this.menuArr.HomeStatus=!1:this.menuArr.HomeStatus=!0,this.menuArr.DayStatus=sessionStorage.getItem("DayStatus"),"false"==this.menuArr.DayStatus?this.menuArr.DayStatus=!1:this.menuArr.DayStatus=!0,this.menuArr.RunControlStatus=sessionStorage.getItem("RunControlStatus"),"false"==this.menuArr.RunControlStatus?this.menuArr.RunControlStatus=!1:this.menuArr.RunControlStatus=!0,this.menuArr.systemStatus=sessionStorage.getItem("systemStatus"),"false"==this.menuArr.systemStatus?this.menuArr.systemStatus=!1:this.menuArr.systemStatus=!0},initNormal:function(){s("XLwt").init(document.getElementById("main1")).setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["rgb(18, 187, 238)","#ccc"],series:[{name:"访问来源",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",fontSize:"40",color:"#000"},emphasis:{show:!0,textStyle:{fontSize:"40",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:600,name:"60%"},{value:400,name:""}]}]})},init:function(t){s("XLwt").init(document.getElementById("main")).setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["rgb(231, 141, 227)","#ccc"],series:[{name:"访问来源",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!0,position:"center",fontSize:"40",color:"#000"},emphasis:{show:!0,textStyle:{fontSize:"40",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{value:60,name:"15%"},{value:340,name:""}]}]})},add:function(){this.$router.replace("/Add")},showList:function(){console.log(1)},change:function(t){console.log(t)},axios:function(){var t=this;return n()(a.a.mark(function e(){var s,o,l,n,i,r,u,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="http://47.112.16.168:8800/operate/query",o=t,l=t.area,n=t.street,i=t.custom.value11,console.log(i,"device"),r=t.restaurantcat,u=t.value5,c=t.value6,console.log("startTime",n,"endTime",c),e.next=12,t.$http({method:"post",url:s,headers:{token:o.token},data:{areaname:l,streetname:n,device:i,type:r,startTime:u,endTime:c}}).then(function(t){console.log(t,"hrllo"),o.loading.close(),o.list=t.data.data,console.log(o.list),o.normalRate=t.data.normalRate,o.finishRate=t.data.finishRate,o.init(),o.initNormal(),o.list2=t.data.area,o.list3=t.data.status,o.list4=t.data.street,o.list5=t.data.foodType,console.log("list1",o.list2)}).catch(function(t){console.log("出错了",t)});case 12:case"end":return e.stop()}},e,t)}))()}},created:function(){var t=this;return n()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.fullscreen(),t.user=sessionStorage.getItem("lastname"),e.next=4,t.menu();case 4:return e.next=6,t.axios();case 6:return e.next=8,console.log(sessionStorage.getItem("navItem"));case 8:case"end":return e.stop()}},e,t)}))()},mounted:function(){var t=this;return n()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.AppBase.date();case 1:case"end":return e.stop()}},e,t)}))()}}),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wid"},[s("mu-container",[s("mu-bottom-sheet",{attrs:{open:t.open},on:{"update:open":function(e){t.open=e}}},[s("div",{staticClass:"query"},[s("span",[t._v("筛选条件")]),t._v(" "),s("button",{style:t.color1,on:{click:t.screen1}},[t._v("一天")]),t._v(" "),s("button",{style:t.color2,on:{click:t.screen2}},[t._v("三天")]),t._v(" "),s("button",{style:t.color3,on:{click:t.screen3}},[t._v("一周")])]),t._v(" "),s("mu-row",{staticClass:"size",attrs:{gutter:""}},[s("mu-col",{attrs:{span:"12",lg:"12",sm:"12"}},[s("mu-form",{staticClass:"mu-demo-form",attrs:{model:t.form,"label-position":t.labelPosition,"label-width":"100"}},[s("mu-form-item",{attrs:{prop:"input",label:"输入设备号ID"}},[s("mu-text-field",{model:{value:t.custom.value11,callback:function(e){t.$set(t.custom,"value11",e)},expression:"custom.value11"}})],1)],1)],1),t._v(" "),s("mu-col",{attrs:{span:"4",sm:"6"}},[s("mu-select",{attrs:{label:"区域",chips:"","full-width":"",filterable:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("mu-chip",{attrs:{selected:e.selected,color:"teal"}},[t._v(t._s(e.label))])]}}]),model:{value:t.custom.value2,callback:function(e){t.$set(t.custom,"value2",e)},expression:"custom.value2"}},[t._v(" "),t._l(t.list2,function(t,e){return s("mu-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),s("mu-col",{attrs:{span:"4",sm:"6"}},[s("mu-select",{attrs:{label:"街道",chips:"",filterable:"",separator:"","no-data-text":"",dense:t.min,"full-width":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("mu-chip",{attrs:{selected:e.selected,color:"teal"}},[t._v(t._s(e.label))])]}}]),model:{value:t.custom.value3,callback:function(e){t.$set(t.custom,"value3",e)},expression:"custom.value3"}},[t._v(" "),t._l(t.list4,function(t,e){return s("mu-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),s("mu-col",{attrs:{span:"4",sm:"6"}},[s("mu-select",{attrs:{label:"菜系",chips:"",filterable:"","full-width":"","no-data-text":""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("mu-chip",{attrs:{selected:e.selected,color:"teal"}},[t._v(t._s(e.label))])]}}]),model:{value:t.custom.value4,callback:function(e){t.$set(t.custom,"value4",e)},expression:"custom.value4"}},[t._v(" "),t._l(t.list5,function(t,e){return s("mu-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),s("mu-col",{attrs:{span:"6",lg:"4",sm:"6"}},[s("mu-date-input",{attrs:{icon:"today",label:"开始时间",container:"bottomSheet","label-float":"","full-width":""},model:{value:t.value5,callback:function(e){t.value5=e},expression:"value5"}})],1),t._v(" "),s("mu-col",{attrs:{span:"6",lg:"4",sm:"6"}},[s("mu-date-input",{attrs:{icon:"today",label:"结束时间",container:"bottomSheet","label-float":"","full-width":""},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1)],1),t._v(" "),s("mu-row",[s("mu-col",{attrs:{span:"6"}},[s("div",{staticClass:"controlConfirm",attrs:{id:"controlWhite"},on:{click:t.loop}},[s("span",[t._v("取消")])])]),t._v(" "),s("mu-col",{attrs:{span:"6"}},[s("div",{staticClass:"controlConfirm",attrs:{id:"controlblue"},on:{click:t.query}},[s("span",[t._v("确认")])])])],1)],1)],1),t._v(" "),s("div",[s("mu-container",[s("div",{staticClass:"query"},[s("span",{staticStyle:{"font-size":"18px"}},[t._v("数据图表")])]),t._v(" "),s("div",{staticClass:"echarts"},[s("mu-row",[s("mu-col",{attrs:{span:"6"}},[s("div",{staticClass:"shebeinormal"},[t._v("设备正常率")]),t._v(" "),s("div",{attrs:{id:"main"}})]),t._v(" "),s("mu-col",{attrs:{span:"6"}},[s("div",{staticClass:"shebeiSuccess"},[t._v("完成率")]),t._v(" "),s("div",{attrs:{id:"main1"}})])],1)],1),t._v(" "),s("div",{staticClass:"query"},[s("span",{staticStyle:{"font-size":"18px"}},[t._v("数据表格")]),t._v(" "),s("mu-button",{attrs:{icon:"",size:"20"},on:{click:t.openBotttomSheet}},[t._v("筛选")]),t._v(" "),s("mu-button",{directives:[{name:"show",rawName:"v-show",value:t.menuArr.newAdd,expression:"menuArr.newAdd"}],attrs:{icon:"",size:"20"},on:{click:t.add}},[t._v("新增")])],1),t._v(" "),s("div",{staticClass:"table"},[s("div",{staticClass:"flex"},[s("div",[t._v("区域")]),t._v(" "),s("div",[t._v("企业名称")]),t._v(" "),s("div",[t._v("街道")]),t._v(" "),s("div",[t._v("运维周期")]),t._v(" "),s("div",[t._v("详情")])]),t._v(" "),t._l(t.list,function(e,o){return s("div",{key:o},[s("div",{attrs:{slot:"header"},slot:"header"},[s("div",{staticClass:"flex1",on:{click:function(e){t.show2=!t.show2}}},[s("div",[t._v("\n                "+t._s(e.area)+"\n                ")]),t._v(" "),s("div",[t._v(t._s(e.restaurant))]),t._v(" "),s("div",[t._v(t._s(e.street))]),t._v(" "),s("div",[t._v("\n                "+t._s(e.period)+"\n                "),s("span",{staticStyle:{"font-size":"5px",color:"orange"}},[t._v("天")])]),t._v(" "),s("div",{on:{click:function(s){return t.look(e.dutyid)}}},[s("a",[t._v("查看")])])])])])})],2)])],1),t._v(" "),s("div",{attrs:{id:"bottomFooter"}},t._l(t.list1,function(e,o){return s("mu-container",{key:o,staticStyle:{"max-width":"100vw",width:"100vw"},attrs:{id:"bottomFooter"}},[s("mu-bottom-nav",{attrs:{value:t.shift},on:{"update:value":function(e){t.shift=e},change:t.change}},[s("mu-bottom-nav-item",{directives:[{name:"show",rawName:"v-show",value:t.menuArr.HomeStatus,expression:"menuArr.HomeStatus"}],attrs:{value:"0",title:"总览",icon:"language",to:"/Home"}}),t._v(" "),s("mu-bottom-nav-item",{directives:[{name:"show",rawName:"v-show",value:t.menuArr.DayStatus,expression:"menuArr.DayStatus"}],attrs:{value:"1",title:"日常管理",icon:"event",to:"/DayControl"}}),t._v(" "),s("mu-bottom-nav-item",{directives:[{name:"show",rawName:"v-show",value:t.menuArr.RunControlStatus,expression:"menuArr.RunControlStatus"}],attrs:{value:"2",title:"运维管理",icon:"build",to:"/Control"}}),t._v(" "),s("mu-bottom-nav-item",{directives:[{name:"show",rawName:"v-show",value:t.menuArr.systemStatus,expression:"menuArr.systemStatus"}],attrs:{value:"3",title:"设置",icon:"settings",to:"/Settings"}})],1)],1)}),1)],1)},staticRenderFns:[]};var u=s("VU/8")(i,r,!1,function(t){s("oqXN")},"data-v-3ca367f0",null);e.default=u.exports}});
//# sourceMappingURL=71.18b33f717fb4015ba1c0.js.map