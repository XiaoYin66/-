webpackJsonp([41],{"1W5o":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),l=s("exGp"),i=s.n(l),o=s("M5WX"),r={name:"eventControlList",data:function(){return{list:[],options:["沙井一期进水口水质监测站"],value3:null,normal:{value1:null,value2:null},position:"",status:!1,mescroll:null,mescrollDown:{},mescrollUp:{callback:this.initdata,page:{num:0,size:20},htmlNodata:'<p class="upwarp-nodata">-- END --</p>',noMoreSize:5,toTop:{src:"./static/mescroll/mescroll-totop.png",offset:1e3},empty:{warpId:"xxid",icon:"./static/mescroll/mescroll-empty.png",tip:"暂无相关数据~"}}}},beforeRouteEnter:function(t,e,s){s(function(t){t.$refs.mescroll&&t.$refs.mescroll.beforeRouteEnter()})},beforeRouteLeave:function(t,e,s){this.$refs.mescroll&&this.$refs.mescroll.beforeRouteLeave(),s()},methods:{mescrollInit:function(t){this.mescroll=t},fullscreen:function(){this.loading=this.$loading()},clickListBtn:function(t){this.$router.push({path:"/TaskControlListDetails",query:{taskId:t}})},imgShowClose:function(){this.status=!0},submitBtn:function(){this.status=!1},initdata:function(t,e){var s=this;return i()(n.a.mark(function a(){var l,i,r,c,u,m,p,v;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s.fullscreen(),l="/task",i=t.num,r=t.size,"",a.next=7,o.a.request(l,"GET",{pageNum:i,pageSize:r},s.token);case 7:c=a.sent,console.log(c),200===c.status?(s.loading.close(),u=c.data.data.rows,1===t.num&&(s.list=[]),s.list=s.list.concat(u),s.$nextTick(function(){e.endSuccess(u.length)})):s.loading.close(),m=0;case 11:if(!(m<s.list.length)){a.next=27;break}p=s.list[m].gmtCreate,v=s.list[m].type,a.t0=v,a.next="inspect"===a.t0?17:"repair"===a.t0?19:"maintenance"===a.t0?21:23;break;case 17:return s.list[m].type="例行巡查",a.abrupt("break",23);case 19:return s.list[m].type="故障维修",a.abrupt("break",23);case 21:return s.list[m].type="保养检修",a.abrupt("break",23);case 23:s.list[m].gmtCreate=o.a.filterTime(p);case 24:m++,a.next=11;break;case 27:case"end":return a.stop()}},a,s)}))()}},mounted:function(){this.token=sessionStorage.getItem("token")},components:{MescrollVue:s("p0f0").a}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"headerZINDEX"},[s("van-nav-bar",{staticClass:"backgroundNaviBar",attrs:{fixed:!0,title:"任务管理","left-arrow":"","z-index":"999",border:!1},on:{"click-left":function(){t.$router.go(-1)}}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"positionImageSize",style:t.position},[s("div",[s("mu-row",{staticClass:"flexCenterMain"},[s("mu-col",{staticClass:"flexCenterMainChild",attrs:{span:"3"}},[t._v("任务类型：")]),t._v(" "),s("mu-col",{attrs:{span:"9",lg:"4",sm:"6"}},[s("mu-select",{attrs:{label:"","full-width":""},model:{value:t.normal.value1,callback:function(e){t.$set(t.normal,"value1",e)},expression:"normal.value1"}},t._l(t.options,function(t,e){return s("mu-option",{key:e,attrs:{label:t,value:t}})}),1)],1)],1),t._v(" "),s("mu-row",{staticClass:"flexCenterMain"},[s("mu-col",{attrs:{span:"3"}},[t._v("接收人员：")]),t._v(" "),s("mu-col",{attrs:{span:"9"}})],1),t._v(" "),s("div",{staticClass:"submitStyles",on:{click:function(e){return t.submitBtn()}}},[s("span",[t._v("提交")])])],1)]),t._v(" "),s("mescroll-vue",{ref:"mescroll",attrs:{down:t.mescrollDown,up:t.mescrollUp},on:{init:t.mescrollInit}},[s("div",{staticClass:"containerListContent border-radius"},t._l(t.list,function(e,a){return s("div",{key:a,staticClass:"contentList",on:{click:function(s){return t.clickListBtn(e.taskId)}}},[s("div",{staticClass:"listNameTitle"},[s("span",{staticStyle:{color:"#7a7a7a"}},[t._v("任务类型:")]),t._v(" "),s("span",{staticClass:"colorSize",staticStyle:{"font-size":"14px"}},[t._v(t._s(e.type))])]),t._v(" "),s("div",{staticClass:"listNameTitle"},[s("span",{staticStyle:{color:"#7a7a7a"}},[t._v("接收人员:")]),t._v(" "),s("span",{staticClass:"colorSize",staticStyle:{"font-size":"14px"}},[t._v(t._s(e.recevPerson))])]),t._v(" "),s("div",{staticClass:"listNameTitle"},[s("span",{staticStyle:{color:"#ccc"}},[t._v(t._s(e.gmtCreate))])])])}),0)])],1)},staticRenderFns:[]};var u=s("VU/8")(r,c,!1,function(t){s("tkUC")},"data-v-ac5a3428",null);e.default=u.exports},tkUC:function(t,e){}});
//# sourceMappingURL=41.c5f98d0346d5640d0b6b.js.map