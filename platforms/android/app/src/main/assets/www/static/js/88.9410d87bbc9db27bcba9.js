webpackJsonp([88],{Qcrk:function(t,e){},XaVd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("exGp"),o=a.n(n),r=a("7+uW"),l=a("Fd2+"),c=a("M5WX");r.default.use(l.K),r.default.use(l.t),r.default.use(l.x),r.default.use(l.k),r.default.use(l.A);var u={data:function(){return{fileList:[],formdate:new FormData,show:!1,minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,SelectTime:"",person:"",solution:"",token:"",showover:!1}},methods:{confirm:function(t){console.log(t),this.show=!1,this.SelectTime=c.a.filterTime(t)},afterRead:function(t){this.formdate.append("files",t.file)},submitAlert:function(){var t=this;l.l.confirm({message:"确认提交？"}).then(function(){t.showover=!0,t.submit()}).catch(function(){l.J.fail("已取消")})},submit:function(){var t=this;return o()(i.a.mark(function e(){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="/job/operate-record/solution",""!=t.person&&""!=t.solution&&""!=t.SelectTime){e.next=6;break}l.J.fail("请完善信息"),t.showover=!1,e.next=16;break;case 6:return t.formdate.append("gmtFinish",t.SelectTime),t.formdate.append("id",t.$store.state.controlContent.id),t.formdate.append("solvePerson",t.person),t.formdate.append("solution",t.solution),e.next=12,c.a.request(a,"POST",t.formdate,t.token);case 12:s=e.sent,console.log(s),"success"===s.data.message?(l.J.success("提交成功"),t.$router.go(-2)):l.J.fail("失败，请重试"),t.showover=!1;case 16:case"end":return e.stop()}},e,t)}))()}},created:function(){this.token=sessionStorage.getItem("token")}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mu-appbar",{staticClass:"header backgroundNaviBar",staticStyle:{width:"100%"}},[a("a",{on:{click:function(){t.$router.go(-1)}}},[a("mu-button",{staticClass:"icon",attrs:{slot:"left",icon:"",size:"20"},slot:"left"},[a("mu-icon",{attrs:{value:"keyboard_arrow_left"}})],1)],1),t._v(" "),a("span",{staticStyle:{color:"white"}},[t._v("提交解决")])]),t._v(" "),a("div",{staticClass:"body"},[a("div",[a("div",{staticClass:"flexBox flexHeight"},[t._m(0),t._v(" "),a("div",{staticClass:"flexBox",staticStyle:{flex:"5"},on:{click:function(){t.show=!0}}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.SelectTime,expression:"SelectTime"}],staticClass:"input",attrs:{type:"text",disabled:"",placeholder:"请选择解决时间"},domProps:{value:t.SelectTime},on:{input:function(e){e.target.composing||(t.SelectTime=e.target.value)}}})]),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"flexBox flexHeight"},[t._m(2),t._v(" "),a("div",{staticStyle:{flex:"5"}},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.person,expression:"person"}],staticClass:"input",attrs:{type:"text",placeholder:"请输入解决人员"},domProps:{value:t.person},on:{input:function(e){e.target.composing||(t.person=e.target.value)}}})])])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"flexBox",staticStyle:{background:"white"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.solution,expression:"solution"}],staticClass:"textarea",attrs:{name:"",id:"textarea",placeholder:"请输入解决方案"},domProps:{value:t.solution},on:{input:function(e){e.target.composing||(t.solution=e.target.value)}}})]),t._v(" "),a("div",{staticStyle:{background:"white",padding:"10px"}},[t._m(4),t._v(" "),a("div",[a("van-uploader",{attrs:{multiple:"","after-read":t.afterRead},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)]),t._v(" "),a("div",{staticClass:"flexBoxBottom"},[a("div",{staticClass:"close",on:{click:function(){t.$router.go(-1)}}},[a("span",[t._v("取消")])]),t._v(" "),a("div",{staticClass:"submit backgroundNaviBar",on:{click:function(e){return t.submitAlert()}}},[a("span",[t._v("提交")])])])])]),t._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"datetime","min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.confirm,cancel:function(){t.show=!1}},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),t._v(" "),a("van-overlay",{staticClass:"overlay",attrs:{show:t.showover},on:{click:function(e){t.showover=!1}}},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"2"}},[e("span",[this._v("解决时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imageSize"},[e("img",{attrs:{src:"static/img/toBottom.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{flex:"2"}},[e("span",[this._v("解决人")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flexBox flexHeight"},[e("div",{staticStyle:{flex:"2"}},[e("span",[this._v("解决方案")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"40px"}},[e("span",[this._v("图片")])])}]};var v=a("VU/8")(u,d,!1,function(t){a("Qcrk")},"data-v-10647554",null);e.default=v.exports}});
//# sourceMappingURL=88.9410d87bbc9db27bcba9.js.map